<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Editor de Time - Humble</title>
  <link rel="icon" type="image/png" href="img/mike_anotando2.png">
  
  <style>
    /* --- CSS GERAL (MANTIDO) --- */
    :root { --cor-dourado: #d1a720; --cor-fundo: #1a1a1a; --cor-texto: #f5f5f5; --cor-input: #2a2a2a; }
    body { font-family: "Segoe UI", Arial, sans-serif; background: linear-gradient(135deg, rgba(20,20,20,0.9), rgba(40,30,20,0.9)), url("https://i.imgur.com/vATNRmF.png"); background-size: cover; margin: 0; padding-top: 80px; color: var(--cor-texto); }
    header { position: fixed; top: 0; left: 0; right: 0; width: 100%; padding: 15px 20px; display: flex; justify-content: space-between; align-items: center; background: rgba(20, 20, 20, 0.9); border-bottom: 2px solid var(--cor-dourado); box-shadow: 0 2px 8px rgba(0,0,0,0.6); z-index: 1000; box-sizing: border-box; }
    header h1 { font-size: 1.6rem; color: var(--cor-dourado); display: flex; gap: 10px; margin: 0; }
    header h1 img { height: 40px; }
    header a { text-decoration: none; color: inherit; }
    .menu-toggle { display: flex; flex-direction: column; width: 30px; gap: 5px; cursor: pointer; }
    .menu-toggle span { height: 4px; background: #fff; border-radius: 4px; }

    /* --- CSS DO EDITOR --- */
    .builder-wrapper {
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
    }

    .toolbar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
      background: rgba(0,0,0,0.5);
      padding: 15px;
      border-radius: 8px;
      border: 1px solid #444;
    }

    .editor-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); /* Responsivo */
      gap: 20px;
    }

    /* CARD DE EDI√á√ÉO */
    .poke-editor {
      background: rgba(35, 35, 35, 0.95);
      border: 1px solid #555;
      border-top: 3px solid var(--cor-dourado);
      border-radius: 8px;
      padding: 15px;
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .poke-editor h4 { margin: 0 0 10px 0; color: var(--cor-dourado); border-bottom: 1px solid #444; padding-bottom: 5px; }

    /* Inputs Estilizados */
    input[type="text"], input[type="number"], select {
      background: var(--cor-input);
      border: 1px solid #555;
      color: #fff;
      padding: 8px;
      border-radius: 4px;
      width: 100%;
      box-sizing: border-box; /* Garante que padding n√£o estoure a largura */
      font-size: 0.9rem;
    }
    
    input[type="text"]:focus { border-color: var(--cor-dourado); outline: none; }

    .row { display: flex; gap: 10px; }
    .col { flex: 1; }

    /* √Årea de Stats (EVs) */
    .stats-container {
      background: rgba(0,0,0,0.2);
      padding: 10px;
      border-radius: 4px;
      margin-top: 5px;
    }

    .stat-row {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 5px;
      font-size: 0.85rem;
    }

    .stat-label { width: 40px; font-weight: bold; color: #aaa; }
    
    /* Slider Customizado */
    input[type=range] {
      -webkit-appearance: none;
      width: 100%;
      height: 6px;
      background: #444;
      border-radius: 3px;
      outline: none;
    }
    input[type=range]::-webkit-slider-thumb {
      -webkit-appearance: none;
      width: 16px;
      height: 16px;
      background: var(--cor-dourado);
      border-radius: 50%;
      cursor: pointer;
    }

    .ev-number { width: 50px !important; text-align: center; }

    /* √Årea de Moves */
    .moves-container {
      display: flex;
      flex-direction: column;
      gap: 5px;
      margin-top: 10px;
    }
    
    .move-input {
      border-left: 3px solid #666 !important;
    }

    /* √Årea de Exporta√ß√£o */
    .export-area {
      width: 100%;
      margin-top: 30px;
      background: #222;
      padding: 20px;
      border-radius: 8px;
    }
    textarea {
      width: 100%;
      height: 150px;
      background: #111;
      color: var(--cor-dourado);
      border: 1px solid #444;
      padding: 10px;
      font-family: monospace;
    }

    .btn-action {
      background: var(--cor-dourado);
      border: none;
      padding: 12px 25px;
      font-weight: bold;
      cursor: pointer;
      border-radius: 4px;
      font-size: 1rem;
      transition: 0.2s;
    }
    .btn-action:hover { background: #fff; }

  </style>
</head>
<body>

  <header>
    <h1><img src="https://i.imgur.com/XOEcuO8.png"> Humble Builder</h1>
    <div class="menu-toggle"><span></span><span></span><span></span></div>
  </header>

  <div class="builder-wrapper">
    
    <div class="toolbar">
      <h2 style="margin:0;">Editar Time</h2>
      <button class="btn-action" onclick="gerarTextoShowdown()">üíæ Gerar Texto para Enviar</button>
    </div>

    <form id="teamForm">
      <div class="editor-grid">
        
        <div class="poke-editor" id="poke1">
          <h4>Pok√©mon 1</h4>
          <div class="row">
            <div class="col"><input type="text" class="p-name" placeholder="Pok√©mon (ex: Garchomp)"></div>
            <div class="col"><input type="text" class="p-item" placeholder="Item (ex: Leftovers)"></div>
          </div>
          <input type="text" class="p-ability" placeholder="Ability (ex: Rough Skin)">

          <div class="stats-container">
            <div style="font-size:0.8rem; margin-bottom:5px; color:#888;">EVs (Effort Values)</div>
            
            <div class="stat-row">
              <span class="stat-label">HP</span>
              <input type="range" min="0" max="252" value="0" oninput="updateVal(this)">
              <input type="number" class="ev-hp ev-number" min="0" max="252" value="0" onchange="updateSlider(this)">
            </div>
            <div class="stat-row">
              <span class="stat-label">Atk</span>
              <input type="range" min="0" max="252" value="0" oninput="updateVal(this)">
              <input type="number" class="ev-atk ev-number" min="0" max="252" value="0" onchange="updateSlider(this)">
            </div>
            <div class="stat-row">
              <span class="stat-label">Def</span>
              <input type="range" min="0" max="252" value="0" oninput="updateVal(this)">
              <input type="number" class="ev-def ev-number" min="0" max="252" value="0" onchange="updateSlider(this)">
            </div>
            <div class="stat-row">
              <span class="stat-label">SpA</span>
              <input type="range" min="0" max="252" value="0" oninput="updateVal(this)">
              <input type="number" class="ev-spa ev-number" min="0" max="252" value="0" onchange="updateSlider(this)">
            </div>
            <div class="stat-row">
              <span class="stat-label">SpD</span>
              <input type="range" min="0" max="252" value="0" oninput="updateVal(this)">
              <input type="number" class="ev-spd ev-number" min="0" max="252" value="0" onchange="updateSlider(this)">
            </div>
            <div class="stat-row">
              <span class="stat-label">Spe</span>
              <input type="range" min="0" max="252" value="0" oninput="updateVal(this)">
              <input type="number" class="ev-spe ev-number" min="0" max="252" value="0" onchange="updateSlider(this)">
            </div>
          </div>

          <div class="moves-container">
            <input type="text" class="move-input p-move1" placeholder="- Move 1">
            <input type="text" class="move-input p-move2" placeholder="- Move 2">
            <input type="text" class="move-input p-move3" placeholder="- Move 3">
            <input type="text" class="move-input p-move4" placeholder="- Move 4">
          </div>
        </div>

        <div class="poke-editor" id="poke2">
          <h4>Pok√©mon 2</h4>
          <div class="row">
            <div class="col"><input type="text" class="p-name" placeholder="Pok√©mon"></div>
            <div class="col"><input type="text" class="p-item" placeholder="Item"></div>
          </div>
          <input type="text" class="p-ability" placeholder="Ability">

          <div class="stats-container">
            <div style="text-align:center; padding:20px; color:#666;">
               <small>(Copie os sliders do c√≥digo acima para ter controle total aqui)</small>
             </div>
          </div>

          <div class="moves-container">
            <input type="text" class="move-input p-move1" placeholder="- Move 1">
            <input type="text" class="move-input p-move2" placeholder="- Move 2">
            <input type="text" class="move-input p-move3" placeholder="- Move 3">
            <input type="text" class="move-input p-move4" placeholder="- Move 4">
          </div>
        </div>

        </div>
    </form>

    <div class="export-area" id="exportSection">
      <h3 style="color:var(--cor-dourado)">Resultado (Importable)</h3>
      <p style="font-size:0.9rem; color:#ccc;">Copie este texto para salvar seu time ou enviar no Discord:</p>
      <textarea id="finalOutput" readonly></textarea>
    </div>

  </div>

  <script>
    // Sincroniza Slider com Input num√©rico
    function updateVal(slider) {
      let numberInput = slider.nextElementSibling;
      numberInput.value = slider.value;
    }
    function updateSlider(numberInput) {
      let slider = numberInput.previousElementSibling;
      slider.value = numberInput.value;
    }

    // L√≥gica para Gerar o Texto do Showdown
    function gerarTextoShowdown() {
      const slots = document.querySelectorAll('.poke-editor');
      let fullTeamText = "";

      slots.forEach(slot => {
        // Pega valores
        let name = slot.querySelector('.p-name').value;
        if(!name) return; // Pula se n√£o tiver nome

        let item = slot.querySelector('.p-item').value;
        let ability = slot.querySelector('.p-ability').value;
        
        // Formata primeira linha: Pikachu @ Light Ball
        fullTeamText += `${name}${item ? ' @ ' + item : ''}\n`;
        
        if(ability) fullTeamText += `Ability: ${ability}\n`;

        // Pega EVs
        let evs = [];
        let hp = slot.querySelector('.ev-hp')?.value || 0;
        let atk = slot.querySelector('.ev-atk')?.value || 0;
        let def = slot.querySelector('.ev-def')?.value || 0;
        let spa = slot.querySelector('.ev-spa')?.value || 0;
        let spd = slot.querySelector('.ev-spd')?.value || 0;
        let spe = slot.querySelector('.ev-spe')?.value || 0;

        if(hp > 0) evs.push(`${hp} HP`);
        if(atk > 0) evs.push(`${atk} Atk`);
        if(def > 0) evs.push(`${def} Def`);
        if(spa > 0) evs.push(`${spa} SpA`);
        if(spd > 0) evs.push(`${spd} SpD`);
        if(spe > 0) evs.push(`${spe} Spe`);

        if(evs.length > 0) fullTeamText += `EVs: ${evs.join(' / ')}\n`;

        // Pega Moves
        let m1 = slot.querySelector('.p-move1').value;
        let m2 = slot.querySelector('.p-move2').value;
        let m3 = slot.querySelector('.p-move3').value;
        let m4 = slot.querySelector('.p-move4').value;

        if(m1) fullTeamText += `- ${m1}\n`;
        if(m2) fullTeamText += `- ${m2}\n`;
        if(m3) fullTeamText += `- ${m3}\n`;
        if(m4) fullTeamText += `- ${m4}\n`;

        fullTeamText += "\n"; // Linha em branco entre pokemons
      });

      // Joga no textarea
      document.getElementById('finalOutput').value = fullTeamText;
      
      // Rola a tela at√© o resultado
      document.getElementById('exportSection').scrollIntoView({behavior: "smooth"});
    }
  </script>

</body>
</html>
